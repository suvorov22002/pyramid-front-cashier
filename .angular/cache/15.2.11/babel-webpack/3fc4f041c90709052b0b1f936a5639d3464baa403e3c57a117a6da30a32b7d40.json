{"ast":null,"code":"import { NbMediaBreakpointsService, NbMenuService, NbSidebarService, NbThemeService } from '@nebular/theme';\nimport { UserData } from '../../../@core/data/users';\nimport { map, takeUntil } from 'rxjs/operators';\nimport { Subject } from 'rxjs';\nimport { GlobalService } from 'app/@core/service/global.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@nebular/theme\";\nimport * as i2 from \"../../../@core/data/users\";\nimport * as i3 from \"app/@core/service/global.service\";\nimport * as i4 from \"@nebular/security\";\nimport * as i5 from \"@angular/common\";\nfunction HeaderComponent_nb_action_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"nb-action\", 7);\n    i0.ɵɵelement(1, \"nb-user\", 8);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"nbContextMenu\", ctx_r0.userMenu)(\"onlyPicture\", ctx_r0.userPictureOnly)(\"name\", ctx_r0.user == null ? null : ctx_r0.user.name)(\"picture\", ctx_r0.user == null ? null : ctx_r0.user.picture);\n  }\n}\nconst _c0 = function () {\n  return [\"view\", \"user\"];\n};\nexport let HeaderComponent = /*#__PURE__*/(() => {\n  class HeaderComponent {\n    constructor(sidebarService, menuService, themeService, userService, breakpointService, globalService) {\n      this.sidebarService = sidebarService;\n      this.menuService = menuService;\n      this.themeService = themeService;\n      this.userService = userService;\n      this.breakpointService = breakpointService;\n      this.globalService = globalService;\n      this.destroy$ = new Subject();\n      this.userPictureOnly = false;\n      this.themes = [{\n        value: 'default',\n        name: 'Light'\n      }, {\n        value: 'dark',\n        name: 'Dark'\n      }, {\n        value: 'cosmic',\n        name: 'Cosmic'\n      }, {\n        value: 'corporate',\n        name: 'Corporate'\n      }];\n      this.currentTheme = 'default';\n      this.userMenu = [{\n        title: 'Profile'\n      }, {\n        title: 'Log out'\n      }];\n    }\n    get globalBalance() {\n      return this.globalService.globalBalance;\n    }\n    set globalBalance(value) {\n      this.globalService.globalBalance = value;\n    }\n    ngOnInit() {\n      this.currentTheme = this.themeService.currentTheme;\n      let interBalance = setInterval(() => {\n        this.cashier_balance = this.globalBalance;\n      }, 1000);\n      this.userService.getUsers().pipe(takeUntil(this.destroy$)).subscribe(users => this.user = users.nick);\n      const {\n        xl\n      } = this.breakpointService.getBreakpointsMap();\n      this.themeService.onMediaQueryChange().pipe(map(([, currentBreakpoint]) => currentBreakpoint.width < xl), takeUntil(this.destroy$)).subscribe(isLessThanXl => this.userPictureOnly = isLessThanXl);\n      this.themeService.onThemeChange().pipe(map(({\n        name\n      }) => name), takeUntil(this.destroy$)).subscribe(themeName => this.currentTheme = themeName);\n      this.date = new Date();\n    }\n    ngOnDestroy() {\n      this.destroy$.next();\n      this.destroy$.complete();\n    }\n    changeTheme(themeName) {\n      this.themeService.changeTheme(themeName);\n    }\n    toggleSidebar() {\n      this.sidebarService.toggle(true, 'menu-sidebar');\n      return false;\n    }\n    navigateHome() {\n      this.menuService.navigateHome();\n      return false;\n    }\n  }\n  HeaderComponent.ɵfac = function HeaderComponent_Factory(t) {\n    return new (t || HeaderComponent)(i0.ɵɵdirectiveInject(i1.NbSidebarService), i0.ɵɵdirectiveInject(i1.NbMenuService), i0.ɵɵdirectiveInject(i1.NbThemeService), i0.ɵɵdirectiveInject(i2.UserData), i0.ɵɵdirectiveInject(i1.NbMediaBreakpointsService), i0.ɵɵdirectiveInject(i3.GlobalService));\n  };\n  HeaderComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: HeaderComponent,\n    selectors: [[\"ngx-header\"]],\n    decls: 17,\n    vars: 9,\n    consts: [[1, \"header-container\"], [1, \"logo-container\"], [\"href\", \"#\", 1, \"logo\", 3, \"click\"], [1, \"logo\"], [\"size\", \"small\"], [\"icon\", \"email-outline\", 1, \"control-item\"], [\"class\", \"user-action\", 4, \"nbIsGranted\"], [1, \"user-action\"], [3, \"nbContextMenu\", \"onlyPicture\", \"name\", \"picture\"]],\n    template: function HeaderComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"a\", 2);\n        i0.ɵɵlistener(\"click\", function HeaderComponent_Template_a_click_2_listener() {\n          return ctx.navigateHome();\n        });\n        i0.ɵɵtext(3, \"Cashier-\");\n        i0.ɵɵelementStart(4, \"span\");\n        i0.ɵɵtext(5, \"Keno\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(6, \"div\", 1)(7, \"span\", 3);\n        i0.ɵɵtext(8);\n        i0.ɵɵpipe(9, \"number\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(10, \"div\", 0)(11, \"span\", 3);\n        i0.ɵɵtext(12);\n        i0.ɵɵpipe(13, \"date\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"nb-actions\", 4);\n        i0.ɵɵelement(15, \"nb-action\", 5);\n        i0.ɵɵtemplate(16, HeaderComponent_nb_action_16_Template, 2, 4, \"nb-action\", 6);\n        i0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(8);\n        i0.ɵɵtextInterpolate1(\"Balance:\\u00A0\\u00A0\", i0.ɵɵpipeBind2(9, 3, ctx.cashier_balance, \"2.\"), \"\\u00A0\\u00A0CFA\");\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate1(\"Date:\\u00A0\\u00A0\", i0.ɵɵpipeBind1(13, 6, ctx.date), \"\");\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"nbIsGranted\", i0.ɵɵpureFunction0(8, _c0));\n      }\n    },\n    dependencies: [i1.NbUserComponent, i1.NbActionComponent, i1.NbActionsComponent, i1.NbContextMenuDirective, i4.NbIsGrantedDirective, i5.DecimalPipe, i5.DatePipe],\n    styles: [\"[_nghost-%COMP%]{display:flex;justify-content:space-between;width:100%}[_nghost-%COMP%]   .logo-container[_ngcontent-%COMP%]{display:flex;align-items:center;width:calc(var(--sidebar-width) - var(--header-padding))}[_nghost-%COMP%]   nb-action[_ngcontent-%COMP%]{height:auto;display:flex;align-content:center}[_nghost-%COMP%]   nb-user[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]     nb-search button{padding:0!important}[_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]{display:flex;align-items:center;width:auto}[_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]   .sidebar-toggle[_ngcontent-%COMP%]{text-decoration:none;color:var(--text-hint-color)}[dir=ltr]   [_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]   .sidebar-toggle[_ngcontent-%COMP%]{padding-right:1.25rem}[dir=rtl]   [_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]   .sidebar-toggle[_ngcontent-%COMP%]{padding-left:1.25rem}[_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]   .sidebar-toggle[_ngcontent-%COMP%]   nb-icon[_ngcontent-%COMP%]{font-size:1.75rem}[_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{padding:0 1.25rem;font-size:1.5rem;white-space:nowrap;text-decoration:none}[dir=ltr]   [_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{border-left:1px solid var(--divider-color)}[dir=rtl]   [_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{border-right:1px solid var(--divider-color)}[dir=ltr]   [_nghost-%COMP%]   .direction-switcher[_ngcontent-%COMP%]{margin-left:2rem}[dir=rtl]   [_nghost-%COMP%]   .direction-switcher[_ngcontent-%COMP%]{margin-right:2rem}@media (max-width: 767.98px){[_nghost-%COMP%]   .control-item[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .user-action[_ngcontent-%COMP%]{border:none;padding:0}}@media (max-width: 575.98px){[_nghost-%COMP%]   nb-select[_ngcontent-%COMP%], [_nghost-%COMP%]   .direction-switcher[_ngcontent-%COMP%]{display:none}}\"]\n  });\n  return HeaderComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}